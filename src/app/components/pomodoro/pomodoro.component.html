<div class="app-container">
  <nav class="top-nav">
    <p-button 
      icon="pi pi-check-square"
      (onClick)="toggleTaskModal()" 
      styleClass="theme-button p-button-text p-button-rounded">
    </p-button>

    <div class="mode-selector">
      <div class="desktop-selector">
        <p-selectButton [options]="options" [(ngModel)]="currentMode" (onChange)="setMode($event.value)"></p-selectButton>
      </div>
      <div class="mobile-selector">
        <p-dropdown [options]="options" [(ngModel)]="currentMode" (onChange)="setMode($event.value)">
        </p-dropdown>
      </div>
    </div>

    <div class="right-nav">
      <p-button 
        icon="pi pi-cog" 
        (onClick)="toggleSettingsModal()" 
        styleClass="theme-button p-button-text p-button-rounded">
      </p-button>
    </div>
  </nav>

  <div class="content">
    <div class="task-prompt" (click)="toggleTaskModal()">
      <i class="pi pi-plus-circle"></i>
      Click here to create a task
    </div>
    
    <div class="timer">
      {{minutes}}:{{seconds < 10 ? '0' : ''}}{{seconds}}
    </div>

    <div class="controls">
      <p-button 
        [label]="isRunning ? 'Pause' : 'Play'"
        [icon]="isRunning ? 'pi pi-pause' : 'pi pi-play'"
        (onClick)="toggleTimer()"
        styleClass="control-button">
      </p-button>

      <p-button 
        icon="pi pi-refresh"
        (onClick)="resetTimer()"
        styleClass="control-button reset">
      </p-button>
    </div>
  </div>

  <app-task-modal 
    [isOpen]="isTaskModalOpen"
    (closeModal)="toggleTaskModal()">
  </app-task-modal>

  <app-settings-modal
    [isOpen]="isSettingsModalOpen"
    (closeModal)="toggleSettingsModal()"
    (saveSettings)="updateSettings($event)">
  </app-settings-modal>
</div>